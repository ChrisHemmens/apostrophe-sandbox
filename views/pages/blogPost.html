{% extends "pageLayout.html" %}

{% include "blogMacros.html" %}

{% block bodyClass %}{{ super() }} blog-post-page{% endblock %}

{% block extraBreadcrumbs %}
<li><a href="{{ page.url }}">{{ page.title | e }}</a></li>
<li>{{ post.title | e }}</li>
{% endblock %}

{% block subnav %}
  {# And now filters... #}
{% endblock %}

{% block main %}
  <h3><a href="{{ page.url }}">{{ page.title | e }}</a></h3>

  {# These data attributes automatically refresh this part of the page if #}
  {# someone calls apos.refresh('blog'), which the blog module will do when #}
  {# the blog is edited #}
  <div class="post" data-apos-source="/api/blog-listing{{ {} | query | e }}" data-apos-trigger-blog>
    {{ blogPost(post) }}
  </div>
{% endblock %}

{% block sidebar %}

  {# A regular free-form area follows, but with a restricted set of allowed types #}
  {{ aposArea({ slug: slug + ':sidebar', area: page.areas.sidebar, edit: edit, controls: [ 'style', 'bold', 'italic', 'createLink', 'image', 'video' ] }) }}

{% endblock %}
